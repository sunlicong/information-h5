(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7397d848"],{"053e":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAAB4CAMAAACwwFz4AAAAe1BMVEUAAAAtov8Klv8Hlf0HlP0IlPwIlv0Llf8HlP0Hlf0Hlf0JlP0HlP0IlP8Vlf8Hlf0Glf4Hlf0Ilf0Hlf0Jl/8Jlv////8Glf4HlPwjoPwanPzh8v7b7/55xf1twP0/rfzp9v7////P6v7F5v6U0f2Gyv1cuP1Os/wwpvyR9DDPAAAAGHRSTlMABTD71r1+K/zz8JSPHwzTrImDzzg1AezkDZjJAAABg0lEQVR42u3dOXLCQBRF0dbYaADkAWhmPHv/K7TaViHhgPz+ejdC4alXKPxyMd/mVcBX5a13fyVNXaYLh2+RlnWT/IqKYu6MNC+KaGqKtTPTumic87WZjWLz2ru2dKYqW5enzlRp7ioD77ppi8oFZ6wgEiCRCIlESCRCIhESiZBIhEQiJBIhkQiJREgkQiIREomQSIREIiQSIZEIiURIJEIiERKJkEiERCIkEiGRCIlESCRCIhESiZBIhEQiJBIhkQiJREgkQiIREomQSIREIiQSIZEIiURIJEDeGikpM2Ok9CkEU6Q4kS1SnMgUKU5kixQnMkVKHrNgi5QuQzBFihPZIsWJTJHiRLZIq34iU6Tbic6XM550O9H35Yu+UvIwm4q2+8/hF/YU7SofBLtBdBqeM+jB4MlEh210HY5haMM86/ych2vH3rR7/bg+d8Tj2//+Raf97u39+jTzwBPpw0QT08txFHW8Q/bjRGPnUbRMcJ8b6Ce6U9b1IkMfhcg2nY+aH+2GXd6XhGYvAAAAAElFTkSuQmCC"},3827:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAfCAYAAAGdV60fAAAABGdBTUEAALGPC/xhBQAAAhBJREFUSA2llM9OwkAQxmkxGDkYDWcxaKLGo2AJejQaeQBewhfyWYwHOUmicPDiSZvwACYQE02IgN+3dLbddrdBnKTMzsw3v/1TtoVCZO12e10N6/X6XA10RiSoVGUc+1NYQTcxz8CLBYuE7/uByrGqeiLFWuR3Z7PZEGPVmW7nvCzG1mq1NnwJgyCoTSaTLxUz0OsxApT96XQaYi3n0qp8tKYzBnpqJq1KrTAYCDgZ+QZGRMkiD+MZpkm2ojR63KrsTjqlKN7v9XrfKKoXhJN8whGr7YiAXk/HANvTp8ptYjmPGRETtLTYIC0k8W+n0ymFYbj4F8VpcwTiCTNOEgRD1KvFYvHCKhIBRKPBYLCdEaUFmelsAkOUEIwxxRaLYmq6PAGFPgRv8DzpDIECmu953g8H8PovzThparpGo/E+n8/3IPzs9/ubSQHH+gjyhFrEDghDEGtpoiFyCTMim9AqSgr5ghk7rdlsHrPoJDk7UYhu1j2G+3heK5VK8CdQBOiiWV0ueL6oD9yZw6VANgAYIwCu+BFQQP64bBmA9FpX5ACMsYJLWYEAxBugVQAG6D8ADcJd4idjIInI3+Bm3qZyuaHaGr6PO/jjd3mdRM1LgOdaPoWSd3njjLC6KpofVgEaIJltFaAVlAJyyzXJubacC5LmaIW5wKVAeUDURuVy+eBPoCQQ4zs8R3heSqVS6xeaeBvFXrHhkQAAAABJRU5ErkJggg=="},"3bb2":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAZCAYAAAFRMq6MAAAABGdBTUEAALGPC/xhBQAAA5xJREFUSA21VUtoFEEQ7erZZXdjopjEgIIHNYJEwYMaQTAIOSkoQkgO/iJqULOLV0FEIxgUvOlOPoiiEC8hfoggogfBHyJBvKiXoAejoNH42ZDZ1ekpq2fTbc9mxyyY9KWqXr3q6qr+MfavkegSR31/zBZeLO2iJifSbos2TCVui0/a1iFS0YZ2GwoYekCVUVVRaw6jiUfjaXFWef0pbfFd2VpOm0szDaVo/to7GHv/VmQNXl6NX8QluhytkK/Mxq2mzS1mbfcXZItzAsXgthoroqbzcyo2cLY72x7pU04t42n3gTYmlaKrLSSZNiICNdCTWMnB87pwftYTYzLIilprJg7CC6jsw7mOw+Y6bTAiHYWDOrCOCn0ucQD2KJuMNCgONPejNfhZuHknDGeT1nKp0/FqZ4i2IuZSkSmr1EAsLV4yhqsVWUmIWUuzbfBO2abUwRKsvoQVGUf89AnABnLJSLNJLtQDwYXOMJtWeZjq38jDCGF4Ii3OU3ldDNnrME5RPGa7N+Vpon0ekoSSlx233WeIbD3t10QuSVet1GC6jsPIcJkMMLeMJ7qxSYJhgwK/qMDaGitm8rgnxICsowNxSvPooDgUWCUDomDVvWqBX4FgavljCZyxhShP40rllA8YnbC4bwMkx5PwRvmU9Bum7qMEgcNp9PC4JgC7S+d5s7JN6QeHPRjAYDSbsmrMAFP36xzeAjl6BfaZDqn/K1D6A/tsbgndLg4Afx9tyS4YgQ5Tplpa6ke67IumC5TzBDIXTDyjJlV1irb9RD4pjM1qYvlI3R71LtObuceo4jq1s3lWEi+wsTzDxC26g40qIbX/A4/z+on98DFftfLMgCzrxYXC9e7RhVilp6ODwjlvcg7DTY2RMiMVl/dgnet692kPFwUnh6t06PaamNLpv3IfUks20rOU4YgHnFSkXzmnk/Fu3ISeN0gVVphcauvbaDmvz7TCVxM3dflRnqTN7wiAdPVjYO340Q7fTFzptNid9MdeoZc7orC8BJdF+JbcIbgfxKdafqsTNi5G9F5SqyoDFIBxznirk4QbEqcrcYw4nQHOpMEZXHBS1pFivmJYYI8TtrjgIaaKEUMxgFdz5vENY7sg/6uGEoOOQGLpqujFFb9+e/R/of8NBemmBTlu8UY6rU9MtFR9SmIVSG29Rm3doWxT0uHppEdAfwemr1Q9NLGcoKwH1wrhPaVTG5U2kYeqa6yGkRZwpP0/4w/IOGsjEsC49gAAAABJRU5ErkJggg=="},"4d3e":function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"PayCandyCard"},[s("div",{staticClass:"top"},[s("img",{staticClass:"top_bg",attrs:{src:a("f81c")}}),s("div",{staticClass:"candy_banace"},[s("div",{staticClass:"banace"},[t._v("糖果卡余额："+t._s(t.candyCount)+"糖果")]),s("div",{staticClass:"right",on:{click:function(i){t.goBill()}}},[s("div",[t._v("明细")]),s("img",{staticClass:"arrow",attrs:{src:a("d617")}})])]),s("div",{staticClass:"card"},[s("div",{staticClass:"name"},[t._v("糖果卡")]),s("div",{staticClass:"candy"},[s("div",[t._v(t._s(t.selectContent.count+t.selectContent.giveCount))]),s("div",{staticClass:"unit"},[t._v("糖果")])])])]),s("div",{staticClass:"candy_list"},[s("div",{staticClass:"title"},[t._v("选择糖果卡")]),s("div",{staticClass:"list"},t._l(t.candyList,function(i,c){return s("div",{staticClass:"list_card",class:[t.selectCandy!=c?"border":"border-none"],on:{click:function(i){t.selectCandyClick(c)}}},[t.selectCandy==c?s("img",{staticClass:"box_bg",attrs:{src:a("053e")}}):t._e(),s("div",{staticClass:"text1"},[s("span",[t._v(t._s(i.price))]),s("span",{staticClass:"text2"},[t._v("糖果")])])])}))]),s("div",{staticClass:"bottom"},[s("div",{staticClass:"bottom_left"},[s("span",[t._v(t._s(t.selectContent.price))]),s("span",{staticClass:"yuan"},[t._v("\b元")])]),s("mt-button",{staticClass:"buy_card",on:{click:function(i){t.buy()}}},[t._v("购卡")])],1),s("mt-popup",{staticClass:"dialog_box",attrs:{position:"bottom"},model:{value:t.popupPayVisible,callback:function(i){t.popupPayVisible=i},expression:"popupPayVisible"}},[s("div",{staticClass:"title_view"},[s("div",{staticClass:"left",on:{click:function(i){t.cancelPay()}}},[t._v("取消")]),s("div",{staticClass:"title"},[t._v("确认支付")]),s("div",{staticClass:"right"})]),s("div",{staticClass:"line"}),s("div",{staticClass:"price_view"},[s("div",{staticClass:"price"},[s("div",{staticClass:"trx"},[t._v(t._s(t.trxNum)+"TRX")]),s("div",{staticClass:"rmb"},[t._v("≈ ￥"+t._s(t.selectContent.price))])]),s("div",{staticClass:"tip"},[t._v("实时读取交易价格，以最终支付金额为准")])]),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("订单信息")]),s("div",{staticClass:"right"},[t._v("购买糖果")])]),s("div",{staticClass:"item",on:{click:t.selectPayList}},[s("div",{staticClass:"left"},[t._v("支付方式")]),s("div",{staticClass:"right"},[s("img",{staticClass:"icon",attrs:{src:a("da41"),alt:""}}),s("span",[t._v("波场TRON")]),s("img",{staticClass:"arrow",attrs:{src:a("d617")}})])]),s("mt-button",{staticClass:"pay",on:{click:function(i){t.buyCardtoTrx()}}},[t._v("确认支付")])],1),s("mt-popup",{staticClass:"dialog_box",attrs:{position:"bottom"},model:{value:t.selectPayTypePop,callback:function(i){t.selectPayTypePop=i},expression:"selectPayTypePop"}},[s("div",{staticClass:"title_view"},[s("div",{staticClass:"left",on:{click:function(i){t.cancelSelect()}}},[s("img",{attrs:{src:a("3827"),alt:""}})]),s("div",{staticClass:"title"},[t._v("选择支付方式")]),s("div",{staticClass:"right"})]),s("div",{staticClass:"line"}),t._l(t.payChannelList,function(i,c){return s("div",{staticClass:"payItem",on:{click:function(i){t.cancelSelect()}}},[s("img",{staticClass:"icon",attrs:{src:a("da41"),alt:""}}),s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[t._v("波场TRON")]),s("div",{staticClass:"balance"},[t._v("余额："+t._s(i.balance)+"TRX")])]),s("div",{staticClass:"right"},[s("img",{attrs:{src:a("3bb2"),alt:""}})])])})],2)],1)},c=[],n=(a("cadf"),a("551c"),a("097d"),{name:"PayCandyCard",data:function(){return{candyCount:0,selectContent:{count:0,giveCount:0,price:0},trxNum:0,selectCandy:0,candyList:[],popupPayVisible:!1,selectPayTypePop:!1,payChannelList:[]}},mounted:function(){this.getCandyList()},methods:{getCandyList:function(){var t=this;this.$axios({method:"get",url:"/blockchain/v1/candy/getCandyList"}).then(function(i){t.$ui.Indicator.close(),i.data.status&&(t.candyCount=i.data.data.candyCount,t.candyList=i.data.data.candyList,t.selectContent=i.data.data.candyList[0])}).catch(function(i){t.$ui.Indicator.close()})},goBill:function(){this.$router.push({path:"/CandyBill"})},selectCandyClick:function(t){this.selectCandy=t,this.selectContent=this.candyList[t]},buy:function(){var t=this;this.$ui.Indicator.open({text:"加载中...",spinnerType:"snake"}),this.$axios({method:"get",url:"/blockchain/v1/wxpay/getTRXPrice",data:{candyId:this.selectContent.id}}).then(function(i){t.$ui.Indicator.close(),i.data.status&&(t.trxNum=i.data.data.coinPrice,t.payChannelList=i.data.data.payChannelList,t.popupPayVisible=!0)}).catch(function(i){t.$ui.Indicator.close()})},selectPayList:function(){this.selectPayTypePop=!0},cancelPay:function(){this.popupPayVisible=!1},cancelSelect:function(){this.selectPayTypePop=!1},buyCard:function(){var t=this;this.$ui.Indicator.open({text:"加载中...",spinnerType:"snake"}),this.$axios({method:"get",url:"/blockchain/v1/wxpay/doPayMock",data:{candyId:this.selectContent.id}}).then(function(i){t.$ui.Indicator.close(),i.data.status&&(t.$ui.Toast("购买成功"),t.getCandyList())}).catch(function(i){t.$ui.Indicator.close()})},buyCardtoTrx:function(){var t=this;this.$ui.Indicator.open({text:"加载中...",spinnerType:"snake"}),this.$axios({method:"get",url:"/blockchain/v1/wxpay/doTRXPay",data:{candyId:this.selectContent.id}}).then(function(i){t.$ui.Indicator.close(),t.popupPayVisible=!1,i.data.status?(t.$ui.Toast("购买成功,糖果稍后到账"),t.getCandyList()):30105==i.data.code&&t.$ui.MessageBox({title:"余额不足",message:"可用余额不足，马上充值TRX",showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"去充值",cancelButtonText:"取消"}).then(function(i){"confirm"==i&&t.$router.push({path:"/Recharge"})})}).catch(function(i){t.popupPayVisible=!1,t.$ui.Indicator.close()})}}}),e=n,o=(a("ba77"),a("2877")),l=Object(o["a"])(e,s,c,!1,null,"e83ff594",null);l.options.__file="PayCandyCard.vue";i["default"]=l.exports},7872:function(t,i,a){},ba77:function(t,i,a){"use strict";var s=a("7872"),c=a.n(s);c.a},d617:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAVBAMAAACAghKHAAAAFVBMVEUAAACampqcnJybm5uampqbm5uZmZlL8ECiAAAABnRSTlMA7jEXy2G6BwtVAAAAMElEQVQI12MwNWAAATchCJWoAKIU08BcJjHiuMIgijUtFcqDykFU4uZA7UPYDnULAIWODDk3zx5uAAAAAElFTkSuQmCC"},da41:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4BAMAAADLSivhAAAALVBMVEVHcEzkCBTmCRTlCBTmCBTlCBTkCRX////oLDT97+7sUFbweHz1n6H72dn4vsCLYoeoAAAABnRSTlMA7VvGL5zcaYGsAAAFS0lEQVRYw6WZy29bRRTGnQddp1XkdRDgNaLI6xRE1wjRrHHcjm5sx9uJm8fSUQpiiaugZlknSsQyRqjqMpaI6LIGCXXJBVH6NzDvOWfm3PF1fBZRfHW/OzO/M/PNq1Ipis8e3L1dbdy+++DDyoyx/FGVuWh8tT6LFkq1vLR0sc6iaK6V035RZVR8XUb7ASuIT+bQllB/zhLxaVr7HkvGl0nO1bS4kWC+XGdTolncXd5nU+PODRucbPb0Sicqfo+VilWy4Go5cWP9ZrQKmS2y0hEnu8a616flxJtEizucn/zav0mrBeqMi+j9+Ut/VuAK9YSr2P/3dLail+SzEbdxcv08qf4YiTfkoy0O4k2q+o/iPHU4it7bn0tlS/dMRYy/G3j9s6LsQWRmSChix9n5b0D/hsxeM+5diljvUtThxT+g+lT2fL0XzBNNbE/9/+TlxOvj7K1g1prYO/HqX+Ynqv7JdZ/kvWyftDh/OhbluNeyi/9Q9YF6HfYQQ2y3LZmBl568+MPrf4/7Sc09GfF9dqaZQf0rW/1ePxpa3ruOOO9nE8vMR3Zuqv80TBawAUHsin0PmAH9y6DotaDJktgPjCFmLs5U0cdBo++DNwQxxkJmKuTDZ6JoN9weoixrYge6kICZqU4OvqozDV+RxET7YmZdUfDf6q8tuhHZZlcSYzEz+zlR9C4ktgRf0sRiZpLWpRnyl4DYLVS9if5ywKw9sD/HvuhvUP/yxHxRbqyaDIOiNwPYjB0qYgEzTct9Z8/jrjKCGGKGPiQbdGVxL+OUWGKQ2VHYhD07KsMJbsIf+yIUpNYAwfvOVWkNZwoQ88xGYDxkF8rcDkyuFgKxJeaa2nUm4G1Vf2wlSDMgZpg5Wt++8o52bBJ9nxUR08x05ZEZWXwPgz4iYmCJaWbSiy+Ai3Oft82gjyBi1gA4NODnY5f/R7HYE9PMAusXtdl3IzpauQFimpmdM/Wkc+ZdsBmLBbHXsM/g2TobeDtoVuKlGyCmxXCdsA3coEGIx4CY+NKPp4GVXaXEiBhqA8IlxfHE3QVjqBV42RBOGowQwz7WgugVrh5YJxHVDvoYNHCIi24zJNbxiWHaea+miA/9+O0CeOpTB3AhWKkniW0j8Qizb1Ji0Me2eA88H8ApVoo3WIrYIUirNMLHeFFDiT2xQ9jIHKMX4hpLERuC2bITTp2bkQ1hYiOQ1wCXtKFbhLjtXhv7VrY4xiUNcIGliOVefBStNVboDeTYtm7Cd8DIvgy3leR+yhEbuDHSjVdna+FE5zqWLsUzGseLs/UK1bkdscwpkAv4Fc1GgpgfzmfIBdzkXksQc8MZmiZculK9RPQsRaxjxdgF/BJwKUHMecEY25FbSpG5MsSsFxC4zLKXwp1pYttmOA9jXML+KkW4NTHjBYFpwoVrETE/nClcZsmcIDbU4pzAZRbrCWLaCwLTxHu6Ok1sx3pB5AJwN1ncx5QXhKaJt0ZLhcRyWXxomnhTVjwqlRfkkQvA7SCZ6bYcjdILOrELoI0/5WNiKO+oqZ3EBbbAiwXEpBfEphkeGtRpYtILjogNGtr2k0dhgti5QDUhca1OOZISxN5y/hOJCx9MbZDE9jnPqR0tPmQh+0luVpxTj3eoM7xhuN8uPNO6RxLjPDZN4gyRKFov1XfLHCHWKGKccoH4GI/KVl6Aa63M0eWQxnWn1KHpFidMkz40jYG3SVyr5Q6KMwpX0Ql3tMLID2Y4mQ+ZDV+XPxyPKr7dn+FYPrwQyGa5EJjvKmK+S5D5rl/mu/gpunJqlLpymu+yK7ihm/Gabc4LvpJXi/8DANNpjg++gEgAAAAASUVORK5CYII="},f81c:function(t,i,a){t.exports=a.p+"assets/img/bg_candy_card.b2cecfcb.png"}}]);