(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2536ef3c"],{2260:function(t,e,o){},9411:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Author"})},n=[],r=(o("cadf"),o("551c"),o("097d"),o("01ea")),s={name:"Author",mounted:function(){var t=this.$route.query.code;t?this.getToken(t):this.authorize()},methods:{authorize:function(){var t=this.$getCookie("inviter");window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+r["b"]+"&redirect_uri="+r["c"]+"/dayu/Author?inviter="+t+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect"},getToken:function(t){var e=this;this.$ui.Indicator.open({text:"加载中...",spinnerType:"snake"});var o=this.$getCookie("inviter");this.$axios({method:"post",url:"/blockchain/v1/account/wechat/token",data:{code:t,inviter:o}}).then(function(t){e.$ui.Indicator.close(),t.data.status&&(e.$store.commit("setFirst"),e.$store.commit("saveUserInfo",t.data.data),e.goBeforUrl())}).catch(function(t){e.$ui.Indicator.close()})},goBeforUrl:function(){var t=this.$getCookie("beforeLoginUrl")||"/Home";t&&-1==t.indexOf("/Author")?(this.$router.push(t),this.$setCookie("beforeLoginUrl","")):this.$router.push("/Home")}}},c=s,a=(o("cdf1"),o("2877")),u=Object(a["a"])(c,i,n,!1,null,"31431d33",null);u.options.__file="Author.vue";e["default"]=u.exports},cdf1:function(t,e,o){"use strict";var i=o("2260"),n=o.n(i);n.a}}]);