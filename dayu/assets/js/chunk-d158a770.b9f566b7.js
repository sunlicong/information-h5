(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d158a770"],{1155:function(t,i,n){t.exports=n.p+"assets/img/img_non.8fe0bb95.png"},4985:function(t,i,n){"use strict";n.r(i);var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("mu-load-more",{attrs:{loading:t.loading},on:{load:t.loadMore}},t._l(t.list,function(i,n){return a("div",{staticClass:"item",on:{click:function(n){t.goProfile(i.uid)}}},[a("img",{staticClass:"cover",attrs:{src:i.photo}}),a("div",{staticClass:"nick"},[t._v(t._s(i.nick))]),0==i.mutual?a("div",{staticClass:"follow",on:{click:function(a){t.relation(i.uid,n)}}},[t._v("关注")]):a("div",{staticClass:"follow yes",on:{click:function(a){t.deleteRelation(i.uid,n)}}},[t._v("已关注")])])})),0==t.list.length?a("div",{staticClass:"non"},[a("img",{attrs:{src:n("1155")}}),a("div",[t._v("暂时还没有数据哦～")])]):t._e()],1)},o=[],s=(n("cadf"),n("551c"),n("097d"),{name:"MyFans",data:function(){return{list:[],next:0}},mounted:function(){this.getFansList()},methods:{goProfile:function(t){this.$router.push({path:"/Profile",query:{uid:t}})},getFansList:function(){var t=this;this.loading=!0,this.$axios({method:"get",url:"/blockchain/v1/user/relation/fans",data:{next:this.next}}).then(function(i){t.loading=!1,t.$ui.Indicator.close(),i.data.status&&(t.next=i.data.data.next,t.list=t.list.concat(i.data.data.data))}).catch(function(i){t.loading=!1,t.$ui.Indicator.close()})},relation:function(t,i){var n=this;this.$ui.Indicator.open({text:"加载中...",spinnerType:"snake"}),this.$axios({method:"post",url:"/blockchain/v1/user/relation/add",data:{mainUserId:t}}).then(function(t){n.$ui.Indicator.close(),t.data.status&&(n.$ui.Toast("关注成功"),n.list[i].mutual=1)}).catch(function(t){n.$ui.Indicator.close()})},deleteRelation:function(t,i){var n=this;this.$ui.Indicator.open({text:"加载中...",spinnerType:"snake"}),this.$axios({method:"post",url:"/blockchain/v1/user/relation/delete",data:{mainUserId:t}}).then(function(t){n.$ui.Indicator.close(),t.data.status&&(n.$ui.Toast("取消成功"),n.list[i].mutual=0)}).catch(function(t){n.$ui.Indicator.close()})},loadMore:function(){-1!=this.next&&this.getFansList()}}}),e=s,c=(n("5938"),n("2877")),l=Object(c["a"])(e,a,o,!1,null,"e12cf6c0",null);l.options.__file="MyFans.vue";i["default"]=l.exports},5938:function(t,i,n){"use strict";var a=n("8a20"),o=n.n(a);o.a},"8a20":function(t,i,n){}}]);